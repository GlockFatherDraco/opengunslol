:root{
  /* Theme */
  --accent: #9E9E9E;
  --text: #E0E0E0;
  --bg: #121212;
  --icon: #BDBDBD;
  --grad-1: #2C2C2C;
  --grad-2: #4A4A4A;
  --muted: #808080;

  /* Layout */
  --container-max: 550px;
  --card-max: 500px;
  --card-min-h: 400px;
  --card-pad: 50px;
  --card-gap: 25px;
  --gap: 12px;

  /* Card visuals */
  --card-radius: 12px;
  --card-blur: 10px; /* px used by blur() */
  --card-opacity: 0.3; /* 0..1 for opacity */

  /* Avatar */
  --avatar-size: 120px;
  --avatar-border: 4px;
  --avatar-radius: 9999px;

  /* Typography */
  --username-size: 32px;
  --desc-size: 18px;
  --desc-line: 1.5;

  /* Social */
  --social-icon-size: 28px;

  /* Music */
  --music-cover: 60px;
  --music-height: 80px;
  --seek-height: 4px;
  --time-size: 14px;

  /* Volume */
  --vol-btn: 32px;
  --vol-width: 150px;
  --vol-percent: 50%;

  /* Entry overlay */
  --entry-z: 10000;
  --entry-bg: rgba(0,0,0,0.8);
  --entry-main-size: 48px;
  --entry-sub-size: 18px;

  /* Animations */
  --ease: cubic-bezier(0.34,1.56,0.64,1);
  --short: .28s;
  --mid: .4s;
  --long: .8s;

  /* Cursor */
  --cursor-size: 24px;
  --cursor-image: url('');
}

/* Reset / base */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{height:100%;width:100%;font-size:16px;overflow:hidden;overscroll-behavior:none}
body{
  min-height:100%;min-width:100%;display:flex;align-items:center;justify-content:center;
  background:var(--bg);padding:clamp(10px,2vw,20px);font-family:"VCR OSD Mono",monospace;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;
  -webkit-tap-highlight-color:transparent;user-select:none;touch-action:none;position:relative;z-index:0;overflow:hidden
}

/* Container */
.container{
  display:flex;flex-direction:column;align-items:center;gap:var(--gap);width:100%;max-width:var(--card-max);position:relative;z-index:0
}

/* Card */
.card{
  width:100%;max-width:var(--card-max);min-height:var(--card-min-h);padding:var(--card-pad);gap:var(--card-gap);
  display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;overflow:visible;border-radius:var(--card-radius);
  background:transparent;backdrop-filter:blur(var(--card-blur));-webkit-backdrop-filter:blur(var(--card-blur));z-index:10;
  transition:opacity var(--long) var(--ease),transform var(--long) var(--ease)
}
.card::before{
  content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;
  background:linear-gradient(135deg,var(--grad-1),var(--grad-2)),var(--accent);background-blend-mode:overlay;opacity:var(--card-opacity)
}
.card > *{position:relative;z-index:2}

/* Avatar / user */
.avatar{width:var(--avatar-size);height:var(--avatar-size);object-fit:cover;border:var(--avatar-border) solid var(--accent);border-radius:var(--avatar-radius);display:block}
.username{font-size:var(--username-size);font-weight:700;color:var(--text);text-align:center}
.description{max-width:90%;font-size:var(--desc-size);line-height:var(--desc-line);color:var(--muted);text-align:center}

/* Discord presence badge */
.discord-presence-badge{
  position:fixed;top:20px;right:20px;display:flex;align-items:center;justify-content:center;width:50px;height:50px;border-radius:var(--card-radius);
  backdrop-filter:blur(var(--card-blur));-webkit-backdrop-filter:blur(var(--card-blur));overflow:hidden;cursor:pointer;z-index:5;transition:transform var(--mid) var(--ease)
}
.discord-presence-badge::before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;background:linear-gradient(135deg,var(--grad-1),var(--grad-2)),var(--accent);background-blend-mode:overlay;opacity:var(--card-opacity)}
.discord-button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:relative;outline:none}
.discord-button > *{position:relative;z-index:1}
.discord-presence-badge:hover{transform:scale(1.08)}
.discord-presence-badge:active{transform:scale(.95);transition:transform .12s ease}
.discord-button img, .discord-button svg{width:20px;height:20px;max-width:60%;max-height:60%;display:block;transition:transform .28s var(--ease)}
.discord-presence-badge:hover .discord-button img{transform:scale(1.08);filter:brightness(1.2)}

/* Presence card that slides up */
.discord-presence-card{
  position:fixed;left:50%;transform:translateX(-50%);bottom:-120px;display:flex;align-items:center;width:100%;max-width:var(--card-max);height:80px;padding:0 20px;gap:15px;border-radius:var(--card-radius);
  backdrop-filter:blur(var(--card-blur));-webkit-backdrop-filter:blur(var(--card-blur));z-index:1015;opacity:0;pointer-events:none;transition:bottom var(--mid) var(--ease),opacity var(--mid) ease
}
.discord-presence-card::before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;background:linear-gradient(135deg,var(--grad-1),var(--grad-2)),var(--accent);background-blend-mode:overlay;opacity:var(--card-opacity);transition:border-radius .3s ease}
.discord-presence-card > *{position:relative;z-index:2}
.discord-presence-badge:hover ~ .discord-presence-card, .discord-presence-card.visible{bottom:20px;opacity:1;pointer-events:auto}

.discord-avatar-container{position:relative;display:inline-block}
.discord-avatar{flex:0 0 50px;width:50px;height:50px;object-fit:cover;border:2px solid var(--accent);border-radius:var(--card-radius);display:block}
.discord-status-icon{position:absolute;bottom:2px;right:2px;width:12px;height:12px;border-radius:50%;box-shadow:0 0 4px rgba(0,0,0,.3);border:1px solid var(--bg);background-size:cover;background-position:center}
.discord-status-icon.online{background-image:url("assets/icons/discord/online.png")}
.discord-status-icon.idle{background-image:url("assets/icons/discord/idle.png")}
.discord-status-icon.dnd{background-image:url("assets/icons/discord/dnd.png")}
.discord-status-icon.invisible{background-image:url("assets/icons/discord/invisible.png")}

.discord-info{flex:1 1 auto;display:flex;flex-direction:column;gap:8px;min-width:0}
.discord-username{font-size:14px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.discord-activity{font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Music player */
.music-player{position:relative;display:flex;align-items:center;width:100%;max-width:var(--card-max);height:var(--music-height);padding:0 20px;margin-top:10px;gap:15px;border-radius:var(--card-radius);backdrop-filter:blur(var(--card-blur));-webkit-backdrop-filter:blur(var(--card-blur));z-index:10;transition:opacity var(--long) var(--ease),transform var(--long) var(--ease)}
.music-player::before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;background:linear-gradient(135deg,var(--grad-1),var(--grad-2)),var(--accent);background-blend-mode:overlay;opacity:var(--card-opacity)}
.music-player > *{position:relative;z-index:2}
.music-cover{flex:0 0 50px;width:50px;height:50px;object-fit:cover;border:2px solid var(--accent);border-radius:8px;display:block}
.music-info{flex:1 1 auto;display:flex;flex-direction:column;gap:8px;min-width:0}
.music-track-name{font-size:14px;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.music-seekbar-container{display:flex;align-items:center;gap:8px;flex:1}
.music-time{font-size:11px;color:var(--muted);font-weight:500;min-width:35px}
.music-time.current{text-align:right}
.music-time.duration{text-align:left}

.music-seekbar{flex:1;height:var(--seek-height);background:rgba(255,255,255,.12);border-radius:2px;position:relative;overflow:visible;cursor:pointer;touch-action:none}
.music-seekbar:hover{height:6px}
.music-seekbar-progress{height:100%;width:0;background:var(--text);border-radius:2px;pointer-events:none}

.music-controls{display:flex;align-items:center;gap:10px;flex:0 0 auto}
.music-control-btn{display:flex;align-items:center;justify-content:center;padding:5px;background:transparent;border:0;color:var(--icon);cursor:pointer}
.music-control-btn img{display:block;width:24px;height:24px;object-fit:contain;filter:none}
.music-control-btn.next-track img,.music-control-btn.prev-track img{width:18px;height:18px;filter:grayscale(1) brightness(.5) contrast(.8);opacity:.6}
.music-control-btn.play-pause img{width:24px;height:24px}
.music-control-btn .pause-icon{display:none}
.music-player.playing .play-icon{display:none}
.music-player.playing .pause-icon{display:inline-block}

/* Social icons */
.social-icons{display:flex;gap:20px;margin-top:15px}
.social-icon{display:flex;align-items:center;justify-content:center;color:var(--icon);text-decoration:none;opacity:1;transition:transform .5s var(--ease),opacity .3s ease}
.social-icon:hover{transform:scale(1.2)}
.social-icon:active{transform:scale(.95);transition:transform .1s ease}
.social-icon svg{inline-size:36px;block-size:36px;display:block;pointer-events:none}

/* Volume control */
.volume-control-wrapper{position:fixed;top:20px;left:20px;display:flex;align-items:center;gap:10px;z-index:5;transition:transform var(--long) var(--ease)}

.volume-button{position:relative;display:flex;align-items:center;justify-content:center;width:50px;height:50px;border-radius:var(--card-radius);backdrop-filter:blur(var(--card-blur));-webkit-backdrop-filter:blur(var(--card-blur));overflow:hidden;cursor:pointer;transition:transform var(--mid) var(--ease)}
.volume-button::before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;background:linear-gradient(135deg,var(--grad-1),var(--grad-2)),var(--accent);background-blend-mode:overlay;opacity:var(--card-opacity)}
.volume-button > *{position:relative;z-index:1}
.volume-button:hover{transform:scale(1.08)}
.volume-button:active{transform:scale(.95);transition:transform .12s ease}
.volume-button svg{width:24px;height:24px;fill:var(--icon);transition:fill var(--short) var(--ease),transform var(--short) ease}
.volume-button:hover svg{transform:scale(1.08);fill:var(--text)}

.volume-slider-container{position:relative;width:50px;height:50px;overflow:hidden;border-radius:var(--card-radius);opacity:0;pointer-events:none;transform:translateX(-20px);transition:opacity var(--mid) ease,transform var(--mid) var(--ease),width var(--mid) var(--ease),border-radius .3s ease}
.volume-slider-container::before{content:"";position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;background:linear-gradient(135deg,var(--grad-1),var(--grad-2)),var(--accent);background-blend-mode:overlay;opacity:var(--card-opacity);transition:border-radius .3s ease}

.volume-control-wrapper:hover .volume-slider-container{opacity:1;transform:translateX(0);pointer-events:auto;width:var(--vol-width)}

.volume-slider-wrapper{position:absolute;inset:0;z-index:1}
.volume-slider-wrapper::after{content:"";position:absolute;inset-block:0;left:0;width:var(--vol-percent);background:linear-gradient(90deg,var(--text) 0%,var(--icon) 100%);border-radius:inherit;pointer-events:none;z-index:0;transition:width .15s ease;backdrop-filter:blur(calc(var(--card-blur)/2));-webkit-backdrop-filter:blur(calc(var(--card-blur)/2))}

.volume-slider{position:absolute;inset:0;width:100%;height:100%;appearance:none;background:transparent;border-radius:inherit;outline:none;opacity:0;z-index:2;padding:0;cursor:pointer}
.volume-slider::-webkit-slider-runnable-track{width:100%;height:100%;background:transparent;border:none}
.volume-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;background:transparent;border:none;margin-top:calc((100% - 20px)/2);border-radius:50%}
.volume-slider::-moz-range-track{width:100%;height:100%;background:transparent;border:none;border-radius:inherit}
.volume-slider::-moz-range-thumb{width:20px;height:20px;background:transparent;border:none;border-radius:50%}
.volume-slider::-moz-range-progress{display:none}

/* Entry overlay */
.entry-overlay{position:fixed;inset:0;z-index:var(--entry-z);display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px;background:var(--entry-bg);cursor:pointer;transition:opacity .8s ease-out}
.entry-overlay.hidden{opacity:0;pointer-events:none}
.entry-main-text::before{content:var(--entry-main-text);font-size:var(--entry-main-size);font-weight:700;color:var(--text);animation:fadeInUp .8s ease-out .3s both}
.entry-sub-text::before{content:var(--entry-sub-text);font-size:var(--entry-sub-size);color:var(--muted);animation:fadeInUp .8s ease-out .6s both}
.entry-sub-text{animation:pulse 2s ease-in-out infinite;animation-delay:.6s}

body.entry-active{overflow:hidden !important;position:fixed;inset:0}
body.entry-active .card,body.entry-active .music-player,body.entry-active .volume-control-wrapper{opacity:0 !important;visibility:hidden !important;pointer-events:none}

/* Background media */
#background-media-container{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
#background-media-container video{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;transform:translate(-50%,-50%);object-fit:cover;opacity:1;filter:blur(0)}
#background-media-container img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;filter:blur(0)}

/* Custom cursor */
.custom-cursor{position:fixed;width:var(--cursor-size);height:var(--cursor-size);pointer-events:none;z-index:2147483647;top:0;left:0;transform:translate(-50%,-50%);will-change:transform,opacity;opacity:0;background-size:contain;background-repeat:no-repeat;background-position:center;transition:opacity .2s ease}

/* Utility / responsiveness */
@media (max-width:768px){
  :root{--card-pad:24px;--avatar-size:96px;--username-size:24px}
  .container{padding-inline:12px}
  .music-player{height:72px}
}

/* Small animation placeholders (kept minimal)
   Implement keyframes in JS or extend here if needed
*/
@keyframes fadeInUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
@keyframes pulse{0%{opacity:1}50%{opacity:.65}100%{opacity:1}}
